_G.VIPSystem = _G.VIPSystem or {VIPList = {}, WebhookURL = "https://discord.com/api/webhooks/1469648089315934260/JHITq3HReyO3c0MIVeC38CoCtxbu_NhVsxqg3VDlwr8ytqd3Zvlnb05mWZ5JQbEvgJ3l"}

local HttpService = game:GetService("HttpService")
local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local AdminKey = "vip-zam"

local function loadVIPList()
    if isfile("vip_list.json") then
        pcall(function()
            _G.VIPSystem.VIPList = HttpService:JSONDecode(readfile("vip_list.json"))
        end)
    end
end

local function createAdminPanel()
    local AdminGui = Instance.new("ScreenGui")
    AdminGui.Name = "AdminPanelGUI"
    AdminGui.Parent = game.CoreGui
    AdminGui.ResetOnSpawn = false
    
    local KeyFrame = Instance.new("Frame")
    KeyFrame.Size = UDim2.new(0, 350, 0, 150)
    KeyFrame.Position = UDim2.new(0.5, -175, 0.5, -75)
    KeyFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
    KeyFrame.BorderSizePixel = 0
    KeyFrame.Parent = AdminGui
    Instance.new("UICorner", KeyFrame).CornerRadius = UDim.new(0, 15)
    
    local KeyStroke = Instance.new("UIStroke")
    KeyStroke.Color = Color3.fromRGB(255, 100, 100)
    KeyStroke.Thickness = 2
    KeyStroke.Parent = KeyFrame
    
    local KeyTitle = Instance.new("TextLabel")
    KeyTitle.Size = UDim2.new(1, 0, 0, 40)
    KeyTitle.BackgroundTransparency = 1
    KeyTitle.Text = "ADMIN PANEL"
    KeyTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    KeyTitle.Font = Enum.Font.GothamBold
    KeyTitle.TextSize = 20
    KeyTitle.Parent = KeyFrame
    
    local KeyInput = Instance.new("TextBox")
    KeyInput.Size = UDim2.new(0.9, 0, 0, 40)
    KeyInput.Position = UDim2.new(0.05, 0, 0, 50)
    KeyInput.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
    KeyInput.PlaceholderText = "Enter Key..."
    KeyInput.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
    KeyInput.Text = ""
    KeyInput.TextColor3 = Color3.fromRGB(255, 255, 255)
    KeyInput.Font = Enum.Font.Gotham
    KeyInput.TextSize = 14
    KeyInput.ClearTextOnFocus = false
    KeyInput.Parent = KeyFrame
    Instance.new("UICorner", KeyInput).CornerRadius = UDim.new(0, 8)
    
    local SubmitButton = Instance.new("TextButton")
    SubmitButton.Size = UDim2.new(0.9, 0, 0, 40)
    SubmitButton.Position = UDim2.new(0.05, 0, 0, 100)
    SubmitButton.BackgroundColor3 = Color3.fromRGB(100, 255, 100)
    SubmitButton.Text = "SUBMIT"
    SubmitButton.TextColor3 = Color3.fromRGB(0, 0, 0)
    SubmitButton.Font = Enum.Font.GothamBold
    SubmitButton.TextSize = 16
    SubmitButton.Parent = KeyFrame
    Instance.new("UICorner", SubmitButton).CornerRadius = UDim.new(0, 8)
    
    SubmitButton.MouseButton1Click:Connect(function()
        if KeyInput.Text == AdminKey then
            KeyFrame:Destroy()
            
            local MainAdminFrame = Instance.new("Frame")
            MainAdminFrame.Size = UDim2.new(0, 500, 0, 600)
            MainAdminFrame.Position = UDim2.new(0.5, -250, 0.5, -300)
            MainAdminFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
            MainAdminFrame.BorderSizePixel = 0
            MainAdminFrame.Parent = AdminGui
            Instance.new("UICorner", MainAdminFrame).CornerRadius = UDim.new(0, 15)
            
            local AdminStroke = Instance.new("UIStroke")
            AdminStroke.Color = Color3.fromRGB(255, 100, 100)
            AdminStroke.Thickness = 2
            AdminStroke.Parent = MainAdminFrame
            
            local TopBar = Instance.new("Frame")
            TopBar.Size = UDim2.new(1, 0, 0, 50)
            TopBar.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
            TopBar.BorderSizePixel = 0
            TopBar.Parent = MainAdminFrame
            Instance.new("UICorner", TopBar).CornerRadius = UDim.new(0, 15)
            
            local AdminTitle = Instance.new("TextLabel")
            AdminTitle.Size = UDim2.new(0.8, 0, 1, 0)
            AdminTitle.Position = UDim2.new(0, 15, 0, 0)
            AdminTitle.BackgroundTransparency = 1
            AdminTitle.Text = "VIP MANAGER"
            AdminTitle.TextColor3 = Color3.fromRGB(255, 100, 100)
            AdminTitle.Font = Enum.Font.GothamBold
            AdminTitle.TextSize = 22
            AdminTitle.TextXAlignment = Enum.TextXAlignment.Left
            AdminTitle.Parent = TopBar
            
            local CloseAdmin = Instance.new("TextButton")
            CloseAdmin.Size = UDim2.new(0, 40, 0, 40)
            CloseAdmin.Position = UDim2.new(1, -45, 0, 5)
            CloseAdmin.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
            CloseAdmin.Text = "X"
            CloseAdmin.TextColor3 = Color3.fromRGB(255, 255, 255)
            CloseAdmin.Font = Enum.Font.GothamBold
            CloseAdmin.TextSize = 20
            CloseAdmin.Parent = TopBar
            Instance.new("UICorner", CloseAdmin).CornerRadius = UDim.new(0, 10)
            
            CloseAdmin.MouseButton1Click:Connect(function()
                AdminGui:Destroy()
            end)
            
            local UsernameInput = Instance.new("TextBox")
            UsernameInput.Size = UDim2.new(0.9, 0, 0, 40)
            UsernameInput.Position = UDim2.new(0.05, 0, 0, 70)
            UsernameInput.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
            UsernameInput.PlaceholderText = "Username..."
            UsernameInput.Text = ""
            UsernameInput.TextColor3 = Color3.fromRGB(255, 255, 255)
            UsernameInput.Font = Enum.Font.Gotham
            UsernameInput.TextSize = 14
            UsernameInput.Parent = MainAdminFrame
            Instance.new("UICorner", UsernameInput).CornerRadius = UDim.new(0, 8)
            
            local DaysInput = Instance.new("TextBox")
            DaysInput.Size = UDim2.new(0.9, 0, 0, 40)
            DaysInput.Position = UDim2.new(0.05, 0, 0, 120)
            DaysInput.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
            DaysInput.PlaceholderText = "Days (e.g., 7, 30, 365)"
            DaysInput.Text = ""
            DaysInput.TextColor3 = Color3.fromRGB(255, 255, 255)
            DaysInput.Font = Enum.Font.Gotham
            DaysInput.TextSize = 14
            DaysInput.Parent = MainAdminFrame
            Instance.new("UICorner", DaysInput).CornerRadius = UDim.new(0, 8)
            
            local AddVIPButton = Instance.new("TextButton")
            AddVIPButton.Size = UDim2.new(0.43, 0, 0, 45)
            AddVIPButton.Position = UDim2.new(0.05, 0, 0, 170)
            AddVIPButton.BackgroundColor3 = Color3.fromRGB(50, 200, 50)
            AddVIPButton.Text = "ADD VIP"
            AddVIPButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            AddVIPButton.Font = Enum.Font.GothamBold
            AddVIPButton.TextSize = 16
            AddVIPButton.Parent = MainAdminFrame
            Instance.new("UICorner", AddVIPButton).CornerRadius = UDim.new(0, 10)
            
            local RemoveVIPButton = Instance.new("TextButton")
            RemoveVIPButton.Size = UDim2.new(0.43, 0, 0, 45)
            RemoveVIPButton.Position = UDim2.new(0.52, 0, 0, 170)
            RemoveVIPButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
            RemoveVIPButton.Text = "REMOVE VIP"
            RemoveVIPButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            RemoveVIPButton.Font = Enum.Font.GothamBold
            RemoveVIPButton.TextSize = 16
            RemoveVIPButton.Parent = MainAdminFrame
            Instance.new("UICorner", RemoveVIPButton).CornerRadius = UDim.new(0, 10)
            
            local VIPListFrame = Instance.new("ScrollingFrame")
            VIPListFrame.Size = UDim2.new(0.9, 0, 0, 350)
            VIPListFrame.Position = UDim2.new(0.05, 0, 0, 230)
            VIPListFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
            VIPListFrame.BorderSizePixel = 0
            VIPListFrame.ScrollBarThickness = 6
            VIPListFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
            VIPListFrame.Parent = MainAdminFrame
            Instance.new("UICorner", VIPListFrame).CornerRadius = UDim.new(0, 10)
            
            local VIPListLayout = Instance.new("UIListLayout")
            VIPListLayout.Padding = UDim.new(0, 5)
            VIPListLayout.Parent = VIPListFrame
            
            VIPListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
                VIPListFrame.CanvasSize = UDim2.new(0, 0, 0, VIPListLayout.AbsoluteContentSize.Y + 10)
            end)
            
            local function sendWebhook(action, username, days)
                local data = {
                    ["content"] = "",
                    ["embeds"] = {{
                        ["title"] = "VIP System - " .. action,
                        ["description"] = string.format("**Username:** %s\n**Days:** %s\n**Action:** %s\n**Time:** %s", 
                            username, 
                            days or "N/A", 
                            action, 
                            os.date("%Y-%m-%d %H:%M:%S")),
                        ["color"] = action == "ADD VIP" and 65280 or 16711680,
                        ["footer"] = {["text"] = "VIP System by Nazam"}
                    }}
                }
                
                pcall(function()
                    request({
                        Url = _G.VIPSystem.WebhookURL,
                        Method = "POST",
                        Headers = {["Content-Type"] = "application/json"},
                        Body = HttpService:JSONEncode(data)
                    })
                end)
            end
            
            local function updateVIPList()
                for _, child in pairs(VIPListFrame:GetChildren()) do
                    if child:IsA("Frame") then child:Destroy() end
                end
                
                loadVIPList()
                
                for username, data in pairs(_G.VIPSystem.VIPList) do
                    local VIPEntry = Instance.new("Frame")
                    VIPEntry.Size = UDim2.new(1, -10, 0, 50)
                    VIPEntry.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
                    VIPEntry.BorderSizePixel = 0
                    VIPEntry.Parent = VIPListFrame
                    Instance.new("UICorner", VIPEntry).CornerRadius = UDim.new(0, 8)
                    
                    local UsernameLabel = Instance.new("TextLabel")
                    UsernameLabel.Size = UDim2.new(0.5, 0, 0.5, 0)
                    UsernameLabel.Position = UDim2.new(0, 10, 0, 0)
                    UsernameLabel.BackgroundTransparency = 1
                    UsernameLabel.Text = username
                    UsernameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
                    UsernameLabel.Font = Enum.Font.GothamBold
                    UsernameLabel.TextSize = 14
                    UsernameLabel.TextXAlignment = Enum.TextXAlignment.Left
                    UsernameLabel.Parent = VIPEntry
                    
                    local timeLeft = data.expire - os.time()
                    local daysLeft = math.floor(timeLeft / 86400)
                    
                    local ExpireLabel = Instance.new("TextLabel")
                    ExpireLabel.Size = UDim2.new(0.5, 0, 0.5, 0)
                    ExpireLabel.Position = UDim2.new(0, 10, 0.5, 0)
                    ExpireLabel.BackgroundTransparency = 1
                    ExpireLabel.Text = string.format("Expires: %d days", daysLeft)
                    ExpireLabel.TextColor3 = daysLeft < 7 and Color3.fromRGB(255, 100, 100) or Color3.fromRGB(150, 150, 150)
                    ExpireLabel.Font = Enum.Font.Gotham
                    ExpireLabel.TextSize = 12
                    ExpireLabel.TextXAlignment = Enum.TextXAlignment.Left
                    ExpireLabel.Parent = VIPEntry
                    
                    local DeleteButton = Instance.new("TextButton")
                    DeleteButton.Size = UDim2.new(0, 60, 0, 30)
                    DeleteButton.Position = UDim2.new(1, -70, 0.5, -15)
                    DeleteButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
                    DeleteButton.Text = "DELETE"
                    DeleteButton.TextColor3 = Color3.fromRGB(255, 255, 255)
                    DeleteButton.Font = Enum.Font.GothamBold
                    DeleteButton.TextSize = 11
                    DeleteButton.Parent = VIPEntry
                    Instance.new("UICorner", DeleteButton).CornerRadius = UDim.new(0, 6)
                    
                    DeleteButton.MouseButton1Click:Connect(function()
                        _G.VIPSystem.VIPList[username] = nil
                        writefile("vip_list.json", HttpService:JSONEncode(_G.VIPSystem.VIPList))
                        sendWebhook("REMOVE VIP", username, nil)
                        updateVIPList()
                    end)
                end
            end
            
            AddVIPButton.MouseButton1Click:Connect(function()
                local username = UsernameInput.Text
                local days = tonumber(DaysInput.Text)
                
                if username ~= "" and days and days > 0 then
                    local expireTime = os.time() + (days * 86400)
                    _G.VIPSystem.VIPList[username] = {expire = expireTime, addedBy = LocalPlayer.Name}
                    writefile("vip_list.json", HttpService:JSONEncode(_G.VIPSystem.VIPList))
                    sendWebhook("ADD VIP", username, days)
                    
                    UsernameInput.Text = ""
                    DaysInput.Text = ""
                    updateVIPList()
                    
                    TweenService:Create(AddVIPButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(100, 255, 100)}):Play()
                    wait(0.2)
                    TweenService:Create(AddVIPButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(50, 200, 50)}):Play()
                end
            end)
            
            RemoveVIPButton.MouseButton1Click:Connect(function()
                local username = UsernameInput.Text
                
                if username ~= "" and _G.VIPSystem.VIPList[username] then
                    _G.VIPSystem.VIPList[username] = nil
                    writefile("vip_list.json", HttpService:JSONEncode(_G.VIPSystem.VIPList))
                    sendWebhook("REMOVE VIP", username, nil)
                    
                    UsernameInput.Text = ""
                    updateVIPList()
                    
                    TweenService:Create(RemoveVIPButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(255, 100, 100)}):Play()
                    wait(0.2)
                    TweenService:Create(RemoveVIPButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(200, 50, 50)}):Play()
                end
            end)
            
            updateVIPList()
            
            local dragging, dragInput, dragStart, startPos
            TopBar.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                    dragging = true
                    dragStart = input.Position
                    startPos = MainAdminFrame.Position
                    
                    input.Changed:Connect(function()
                        if input.UserInputState == Enum.UserInputState.End then
                            dragging = false
                        end
                    end)
                end
            end)
            
            game:GetService("UserInputService").InputChanged:Connect(function(input)
                if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
                    local delta = input.Position - dragStart
                    MainAdminFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
                end
            end)
            
        else
            KeyInput.Text = ""
            KeyInput.PlaceholderText = "WRONG KEY!"
            KeyInput.PlaceholderColor3 = Color3.fromRGB(255, 50, 50)
            TweenService:Create(KeyFrame, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(50, 15, 15)}):Play()
            wait(0.5)
            TweenService:Create(KeyFrame, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(15, 15, 20)}):Play()
            wait(1)
            KeyInput.PlaceholderText = "Enter Key..."
            KeyInput.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
        end
    end)
end

createAdminPanel()

print("===========================================")
print("VIP ADMIN PANEL LOADED!")
print("Key: vip-zam")
print("Made by: Nazam")
print("===========================================")
