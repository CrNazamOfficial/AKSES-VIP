-- NAZAM HUB - VIP ADMIN PANEL (DISCORD WEBHOOK)
-- By: Nazam
-- Version: 2.0 FULL AUTO
-- Webhook sudah diisi!

local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- ADMIN WHITELIST (GANTI DENGAN USERNAME ROBLOX ANDA!)
local ADMINS = {
    "nazamofficial", -- GANTI INI DENGAN USERNAME ROBLOX ANDA!
    "Nazam",
    "CrNazam" -- Contoh tambahan
}

-- WEBHOOK URL (SUDAH DIISI!)
local WEBHOOK_URL = "https://discord.com/api/webhooks/1469648089315934260/JHITq3HReyO3c0MIVeC38CoCtxbu_NhVsxqg3VDlwr8ytqd3Zvlnb05mWZ5JQbEvgJ3l"

local isAdmin = false
for _, admin in pairs(ADMINS) do
    if player.Name == admin then
        isAdmin = true
        break
    end
end

if not isAdmin then
    player:Kick("‚ùå Access Denied: Admin Only")
    return
end

local VIPData = {
    users = {}
}

local function loadVIPData()
    local success, response = pcall(function()
        return game:HttpGet(WEBHOOK_URL)
    end)
    
    if success and response then
        local messages = HttpService:JSONDecode(response)
        
        for i = #messages, 1, -1 do
            local msg = messages[i]
            if msg.content and msg.content:find("VIP_DATA:") then
                local jsonData = msg.content:match("VIP_DATA:(.+)")
                if jsonData then
                    VIPData = HttpService:JSONDecode(jsonData)
                    print("‚úÖ Loaded " .. #VIPData.users .. " VIP users")
                    return true
                end
                break
            end
        end
    end
    
    print("‚ö†Ô∏è No VIP data found, starting fresh")
    return false
end

local function saveVIPData()
    local jsonData = HttpService:JSONEncode(VIPData)
    local payload = {
        content = "VIP_DATA:" .. jsonData,
        username = "VIP System",
    }
    
    local success = pcall(function()
        syn.request({
            Url = WEBHOOK_URL,
            Method = "POST",
            Headers = {
                ["Content-Type"] = "application/json"
            },
            Body = HttpService:JSONEncode(payload)
        })
    end)
    
    if not success then
        success = pcall(function()
            request({
                Url = WEBHOOK_URL,
                Method = "POST",
                Headers = {
                    ["Content-Type"] = "application/json"
                },
                Body = HttpService:JSONEncode(payload)
            })
        end)
    end
    
    if not success then
        success = pcall(function()
            http_request({
                Url = WEBHOOK_URL,
                Method = "POST",
                Headers = {
                    ["Content-Type"] = "application/json"
                },
                Body = HttpService:JSONEncode(payload)
            })
        end)
    end
    
    if success then
        print("‚úÖ VIP Data saved to Discord!")
        return true
    else
        warn("‚ùå Failed to save! Make sure your executor supports HTTP requests.")
        return false
    end
end

local function createAdminGUI()
    local gui = Instance.new("ScreenGui")
    gui.Name = "VIPAdminPanel"
    gui.Parent = game.CoreGui
    gui.ResetOnSpawn = false
    
    local mainFrame = Instance.new("Frame")
    mainFrame.Size = UDim2.new(0, 450, 0, 550)
    mainFrame.Position = UDim2.new(0.5, -225, 0.5, -275)
    mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    mainFrame.BorderColor3 = Color3.fromRGB(255, 215, 0)
    mainFrame.BorderSizePixel = 3
    mainFrame.Active = true
    mainFrame.Parent = gui
    
    Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0, 10)
    
    local header = Instance.new("Frame")
    header.Size = UDim2.new(1, 0, 0, 60)
    header.BackgroundColor3 = Color3.fromRGB(255, 215, 0)
    header.BorderSizePixel = 0
    header.Parent = mainFrame
    
    Instance.new("UICorner", header).CornerRadius = UDim.new(0, 10)
    
    local headerCover = Instance.new("Frame")
    headerCover.Size = UDim2.new(1, 0, 0, 30)
    headerCover.Position = UDim2.new(0, 0, 1, -30)
    headerCover.BackgroundColor3 = Color3.fromRGB(255, 215, 0)
    headerCover.BorderSizePixel = 0
    headerCover.Parent = header
    
    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1, -80, 1, -20)
    title.Position = UDim2.new(0, 15, 0, 10)
    title.BackgroundTransparency = 1
    title.Text = "‚òÖ VIP ADMIN PANEL ‚òÖ\nFULL AUTO DISCORD"
    title.TextColor3 = Color3.fromRGB(0, 0, 0)
    title.Font = Enum.Font.GothamBold
    title.TextSize = 18
    title.Parent = header
    
    local closeBtn = Instance.new("TextButton")
    closeBtn.Size = UDim2.new(0, 35, 0, 35)
    closeBtn.Position = UDim2.new(1, -45, 0, 12)
    closeBtn.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
    closeBtn.Text = "X"
    closeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    closeBtn.Font = Enum.Font.GothamBold
    closeBtn.TextSize = 18
    closeBtn.Parent = header
    
    Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(0, 8)
    
    closeBtn.MouseButton1Click:Connect(function()
        gui:Destroy()
    end)
    
    local contentFrame = Instance.new("Frame")
    contentFrame.Size = UDim2.new(1, -30, 1, -80)
    contentFrame.Position = UDim2.new(0, 15, 0, 70)
    contentFrame.BackgroundTransparency = 1
    contentFrame.Parent = mainFrame
    
    local statusBar = Instance.new("Frame")
    statusBar.Size = UDim2.new(1, 0, 0, 35)
    statusBar.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    statusBar.BorderSizePixel = 0
    statusBar.Parent = contentFrame
    
    Instance.new("UICorner", statusBar).CornerRadius = UDim.new(0, 8)
    
    local statusLabel = Instance.new("TextLabel")
    statusLabel.Size = UDim2.new(1, -20, 1, 0)
    statusLabel.Position = UDim2.new(0, 10, 0, 0)
    statusLabel.BackgroundTransparency = 1
    statusLabel.Text = "üîÑ Loading VIP data..."
    statusLabel.TextColor3 = Color3.fromRGB(255, 215, 0)
    statusLabel.Font = Enum.Font.GothamBold
    statusLabel.TextSize = 12
    statusLabel.TextXAlignment = Enum.TextXAlignment.Left
    statusLabel.Parent = statusBar
    
    local addSection = Instance.new("Frame")
    addSection.Size = UDim2.new(1, 0, 0, 130)
    addSection.Position = UDim2.new(0, 0, 0, 45)
    addSection.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    addSection.BorderSizePixel = 0
    addSection.Parent = contentFrame
    
    Instance.new("UICorner", addSection).CornerRadius = UDim.new(0, 8)
    
    local addTitle = Instance.new("TextLabel")
    addTitle.Size = UDim2.new(1, -20, 0, 30)
    addTitle.Position = UDim2.new(0, 10, 0, 5)
    addTitle.BackgroundTransparency = 1
    addTitle.Text = "‚ûï Add VIP User"
    addTitle.TextColor3 = Color3.fromRGB(255, 215, 0)
    addTitle.Font = Enum.Font.GothamBold
    addTitle.TextSize = 16
    addTitle.TextXAlignment = Enum.TextXAlignment.Left
    addTitle.Parent = addSection
    
    local usernameInput = Instance.new("TextBox")
    usernameInput.Size = UDim2.new(0.48, 0, 0, 35)
    usernameInput.Position = UDim2.new(0, 10, 0, 40)
    usernameInput.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    usernameInput.BorderColor3 = Color3.fromRGB(255, 215, 0)
    usernameInput.BorderSizePixel = 2
    usernameInput.PlaceholderText = "Roblox Username..."
    usernameInput.PlaceholderColor3 = Color3.fromRGB(120, 120, 120)
    usernameInput.Text = ""
    usernameInput.TextColor3 = Color3.fromRGB(255, 255, 255)
    usernameInput.Font = Enum.Font.Gotham
    usernameInput.TextSize = 13
    usernameInput.Parent = addSection
    
    Instance.new("UICorner", usernameInput).CornerRadius = UDim.new(0, 6)
    
    local daysInput = Instance.new("TextBox")
    daysInput.Size = UDim2.new(0.48, 0, 0, 35)
    daysInput.Position = UDim2.new(0.52, 0, 0, 40)
    daysInput.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    daysInput.BorderColor3 = Color3.fromRGB(255, 215, 0)
    daysInput.BorderSizePixel = 2
    daysInput.PlaceholderText = "Days (0 = Lifetime)"
    daysInput.PlaceholderColor3 = Color3.fromRGB(120, 120, 120)
    daysInput.Text = "30"
    daysInput.TextColor3 = Color3.fromRGB(255, 255, 255)
    daysInput.Font = Enum.Font.Gotham
    daysInput.TextSize = 13
    daysInput.Parent = addSection
    
    Instance.new("UICorner", daysInput).CornerRadius = UDim.new(0, 6)
    
    local addButton = Instance.new("TextButton")
    addButton.Size = UDim2.new(1, -20, 0, 40)
    addButton.Position = UDim2.new(0, 10, 0, 80)
    addButton.BackgroundColor3 = Color3.fromRGB(0, 200, 100)
    addButton.Text = "‚úì ADD VIP USER (AUTO SAVE)"
    addButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    addButton.Font = Enum.Font.GothamBold
    addButton.TextSize = 15
    addButton.Parent = addSection
    
    Instance.new("UICorner", addButton).CornerRadius = UDim.new(0, 6)
    
    local listSection = Instance.new("Frame")
    listSection.Size = UDim2.new(1, 0, 1, -230)
    listSection.Position = UDim2.new(0, 0, 0, 185)
    listSection.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    listSection.BorderSizePixel = 0
    listSection.Parent = contentFrame
    
    Instance.new("UICorner", listSection).CornerRadius = UDim.new(0, 8)
    
    local listTitle = Instance.new("TextLabel")
    listTitle.Size = UDim2.new(1, -20, 0, 35)
    listTitle.Position = UDim2.new(0, 10, 0, 5)
    listTitle.BackgroundTransparency = 1
    listTitle.Text = "üìã VIP Users (0)"
    listTitle.TextColor3 = Color3.fromRGB(255, 215, 0)
    listTitle.Font = Enum.Font.GothamBold
    listTitle.TextSize = 16
    listTitle.TextXAlignment = Enum.TextXAlignment.Left
    listTitle.Parent = listSection
    
    local scrollFrame = Instance.new("ScrollingFrame")
    scrollFrame.Size = UDim2.new(1, -20, 1, -50)
    scrollFrame.Position = UDim2.new(0, 10, 0, 45)
    scrollFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    scrollFrame.BorderSizePixel = 0
    scrollFrame.ScrollBarThickness = 8
    scrollFrame.Parent = listSection
    
    Instance.new("UICorner", scrollFrame).CornerRadius = UDim.new(0, 6)
    
    local listLayout = Instance.new("UIListLayout")
    listLayout.Padding = UDim.new(0, 6)
    listLayout.SortOrder = Enum.SortOrder.LayoutOrder
    listLayout.Parent = scrollFrame
    
    local clearBtn = Instance.new("TextButton")
    clearBtn.Size = UDim2.new(0, 100, 0, 30)
    clearBtn.Position = UDim2.new(1, -110, 0, 7)
    clearBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
    clearBtn.Text = "üóë CLEAR ALL"
    clearBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    clearBtn.Font = Enum.Font.GothamBold
    clearBtn.TextSize = 11
    clearBtn.Parent = listSection
    
    Instance.new("UICorner", clearBtn).CornerRadius = UDim.new(0, 6)
    
    local function updateUserList()
        for _, child in pairs(scrollFrame:GetChildren()) do
            if child:IsA("Frame") then
                child:Destroy()
            end
        end
        
        local count = 0
        for _, user in pairs(VIPData.users) do
            count = count + 1
            
            local userFrame = Instance.new("Frame")
            userFrame.Size = UDim2.new(1, -10, 0, 55)
            userFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            userFrame.BorderSizePixel = 0
            userFrame.Parent = scrollFrame
            
            Instance.new("UICorner", userFrame).CornerRadius = UDim.new(0, 6)
            
            local usernameLabel = Instance.new("TextLabel")
            usernameLabel.Size = UDim2.new(0.5, 0, 0, 25)
            usernameLabel.Position = UDim2.new(0, 12, 0, 5)
            usernameLabel.BackgroundTransparency = 1
            usernameLabel.Text = "üë§ " .. user.username
            usernameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
            usernameLabel.Font = Enum.Font.GothamBold
            usernameLabel.TextSize = 13
            usernameLabel.TextXAlignment = Enum.TextXAlignment.Left
            usernameLabel.Parent = userFrame
            
            local expiryText
            local expiryColor = Color3.fromRGB(100, 255, 100)
            
            if user.expiry == -1 then
                expiryText = "‚≠ê Lifetime VIP"
                expiryColor = Color3.fromRGB(255, 215, 0)
            else
                local timeLeft = user.expiry - os.time()
                local daysLeft = math.floor(timeLeft / 86400)
                
                if daysLeft < 0 then
                    expiryText = "‚ùå EXPIRED"
                    expiryColor = Color3.fromRGB(255, 80, 80)
                elseif daysLeft == 0 then
                    local hoursLeft = math.floor(timeLeft / 3600)
                    expiryText = "‚è∞ " .. hoursLeft .. " hours left"
                    expiryColor = Color3.fromRGB(255, 150, 50)
                else
                    expiryText = "‚è∞ " .. daysLeft .. " days left"
                end
            end
            
            local expiryLabel = Instance.new("TextLabel")
            expiryLabel.Size = UDim2.new(0.5, 0, 0, 22)
            expiryLabel.Position = UDim2.new(0, 12, 0, 30)
            expiryLabel.BackgroundTransparency = 1
            expiryLabel.Text = expiryText
            expiryLabel.TextColor3 = expiryColor
            expiryLabel.Font = Enum.Font.Gotham
            expiryLabel.TextSize = 11
            expiryLabel.TextXAlignment = Enum.TextXAlignment.Left
            expiryLabel.Parent = userFrame
            
            local removeBtn = Instance.new("TextButton")
            removeBtn.Size = UDim2.new(0, 80, 0, 35)
            removeBtn.Position = UDim2.new(1, -90, 0, 10)
            removeBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
            removeBtn.Text = "REMOVE"
            removeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
            removeBtn.Font = Enum.Font.GothamBold
            removeBtn.TextSize = 11
            removeBtn.Parent = userFrame
            
            Instance.new("UICorner", removeBtn).CornerRadius = UDim.new(0, 5)
            
            removeBtn.MouseButton1Click:Connect(function()
                for i, u in ipairs(VIPData.users) do
                    if u.username == user.username then
                        table.remove(VIPData.users, i)
                        break
                    end
                end
                
                statusLabel.Text = "üîÑ Saving to Discord..."
                statusLabel.TextColor3 = Color3.fromRGB(255, 200, 100)
                
                if saveVIPData() then
                    statusLabel.Text = "‚úÖ Removed: " .. user.username
                    statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
                else
                    statusLabel.Text = "‚ùå Failed to save!"
                    statusLabel.TextColor3 = Color3.fromRGB(255, 80, 80)
                end
                
                updateUserList()
                
                wait(2)
                statusLabel.Text = "‚úÖ Connected to Discord"
                statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
            end)
        end
        
        listTitle.Text = "üìã VIP Users (" .. count .. ")"
        scrollFrame.CanvasSize = UDim2.new(0, 0, 0, listLayout.AbsoluteContentSize.Y + 10)
    end
    
    addButton.MouseButton1Click:Connect(function()
        local username = usernameInput.Text:match("^%s*(.-)%s*$")
        local days = tonumber(daysInput.Text) or 30
        
        if username == "" then
            statusLabel.Text = "‚ùå Enter a username!"
            statusLabel.TextColor3 = Color3.fromRGB(255, 80, 80)
            wait(2)
            statusLabel.Text = "‚úÖ Connected to Discord"
            statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
            return
        end
        
        for i, user in ipairs(VIPData.users) do
            if user.username == username then
                table.remove(VIPData.users, i)
                break
            end
        end
        
        local expiry
        if days <= 0 then
            expiry = -1
        else
            expiry = os.time() + (days * 86400)
        end
        
        table.insert(VIPData.users, {
            username = username,
            expiry = expiry,
            added = os.time()
        })
        
        usernameInput.Text = ""
        
        statusLabel.Text = "üîÑ Saving to Discord..."
        statusLabel.TextColor3 = Color3.fromRGB(255, 200, 100)
        
        if saveVIPData() then
            statusLabel.Text = "‚úÖ Added VIP: " .. username
            statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
        else
            statusLabel.Text = "‚ùå Failed to save!"
            statusLabel.TextColor3 = Color3.fromRGB(255, 80, 80)
        end
        
        updateUserList()
        
        wait(2)
        statusLabel.Text = "‚úÖ Connected to Discord"
        statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    end)
    
    clearBtn.MouseButton1Click:Connect(function()
        VIPData.users = {}
        
        statusLabel.Text = "üîÑ Clearing all VIP users..."
        statusLabel.TextColor3 = Color3.fromRGB(255, 200, 100)
        
        if saveVIPData() then
            statusLabel.Text = "‚úÖ All VIP users cleared!"
            statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
        else
            statusLabel.Text = "‚ùå Failed to save!"
            statusLabel.TextColor3 = Color3.fromRGB(255, 80, 80)
        end
        
        updateUserList()
        
        wait(2)
        statusLabel.Text = "‚úÖ Connected to Discord"
        statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    end)
    
    local dragging, dragInput, dragStart, startPos
    
    header.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = mainFrame.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    
    game:GetService("UserInputService").InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - dragStart
            mainFrame.Position = UDim2.new(
                startPos.X.Scale, 
                startPos.X.Offset + delta.X, 
                startPos.Y.Scale, 
                startPos.Y.Offset + delta.Y
            )
        end
    end)
    
    spawn(function()
        loadVIPData()
        updateUserList()
        statusLabel.Text = "‚úÖ Connected to Discord"
        statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    end)
end

createAdminGUI()

print("============================")
print("VIP ADMIN PANEL LOADED!")
print("Admin: " .. player.Name)
print("Mode: FULL AUTO (Discord)")
print("============================")
