-- NAZAM VIP MANAGER
-- Script untuk manage VIP users
-- By: Nazam

local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- ===== CONFIG =====
local ADMIN_USERNAMES = {"NazamOfficial", "YourUsername"} -- Ganti dengan username admin
local VIP_FILE_URL = "https://raw.githubusercontent.com/CrNazamOfficial/VIPList/main/vip.json"
local GITHUB_TOKEN = "YOUR_GITHUB_TOKEN_HERE" -- Token untuk update file

-- ===== CHECK ADMIN =====
local isAdmin = false
for _, adminName in pairs(ADMIN_USERNAMES) do
    if player.Name == adminName then
        isAdmin = true
        break
    end
end

if not isAdmin then
    player:Kick("Access Denied - Admin Only")
    return
end

-- ===== VIP DATA =====
local vipList = {}

local function loadVIPList()
    local success, result = pcall(function()
        return game:HttpGet(VIP_FILE_URL)
    end)
    
    if success and result then
        vipList = HttpService:JSONDecode(result)
    else
        vipList = {}
    end
end

local function saveVIPList()
    -- NOTE: Karena Roblox tidak bisa write ke GitHub langsung,
    -- Data disimpan lokal dan perlu manual upload ke GitHub
    -- Atau gunakan webhook/API eksternal
    
    local json = HttpService:JSONEncode(vipList)
    writefile("VIP_LIST.json", json)
    
    print("VIP List saved to VIP_LIST.json")
    print("IMPORTANT: Upload this file to GitHub manually!")
    print("Path: CrNazamOfficial/VIPList/main/vip.json")
end

-- ===== GUI =====
local function createGUI()
    local gui = Instance.new("ScreenGui")
    gui.Name = "VIPManager"
    gui.Parent = game.CoreGui
    gui.ResetOnSpawn = false
    
    local main = Instance.new("Frame")
    main.Size = UDim2.new(0, 450, 0, 400)
    main.Position = UDim2.new(0.5, -225, 0.5, -200)
    main.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    main.BorderColor3 = Color3.fromRGB(255, 150, 50)
    main.BorderSizePixel = 3
    main.Active = true
    main.Parent = gui
    Instance.new("UICorner", main).CornerRadius = UDim.new(0, 12)
    
    -- Header
    local header = Instance.new("Frame")
    header.Size = UDim2.new(1, 0, 0, 40)
    header.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    header.BorderSizePixel = 0
    header.Parent = main
    Instance.new("UICorner", header).CornerRadius = UDim.new(0, 12)
    
    local headerBottom = Instance.new("Frame")
    headerBottom.Size = UDim2.new(1, 0, 0, 12)
    headerBottom.Position = UDim2.new(0, 0, 1, -12)
    headerBottom.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    headerBottom.BorderSizePixel = 0
    headerBottom.Parent = header
    
    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(0, 200, 1, 0)
    title.Position = UDim2.new(0, 15, 0, 0)
    title.BackgroundTransparency = 1
    title.Text = "ðŸ”‘ VIP MANAGER"
    title.TextColor3 = Color3.fromRGB(255, 215, 0)
    title.Font = Enum.Font.GothamBold
    title.TextSize = 18
    title.TextXAlignment = Enum.TextXAlignment.Left
    title.Parent = header
    
    local closeBtn = Instance.new("TextButton")
    closeBtn.Size = UDim2.new(0, 30, 0, 30)
    closeBtn.Position = UDim2.new(1, -35, 0.5, -15)
    closeBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    closeBtn.BorderSizePixel = 0
    closeBtn.Text = "X"
    closeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    closeBtn.Font = Enum.Font.GothamBold
    closeBtn.TextSize = 16
    closeBtn.Parent = header
    Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(0, 6)
    
    closeBtn.MouseEnter:Connect(function()
        closeBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
    end)
    closeBtn.MouseLeave:Connect(function()
        closeBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    end)
    closeBtn.MouseButton1Click:Connect(function()
        gui:Destroy()
    end)
    
    -- Add VIP Section
    local addSection = Instance.new("Frame")
    addSection.Size = UDim2.new(0.94, 0, 0, 120)
    addSection.Position = UDim2.new(0.03, 0, 0, 50)
    addSection.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    addSection.BorderSizePixel = 0
    addSection.Parent = main
    Instance.new("UICorner", addSection).CornerRadius = UDim.new(0, 8)
    
    local addTitle = Instance.new("TextLabel")
    addTitle.Size = UDim2.new(1, -10, 0, 25)
    addTitle.Position = UDim2.new(0, 5, 0, 5)
    addTitle.BackgroundTransparency = 1
    addTitle.Text = "ADD VIP USER"
    addTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    addTitle.Font = Enum.Font.GothamBold
    addTitle.TextSize = 12
    addTitle.TextXAlignment = Enum.TextXAlignment.Left
    addTitle.Parent = addSection
    
    local usernameInput = Instance.new("TextBox")
    usernameInput.Size = UDim2.new(0.48, 0, 0, 32)
    usernameInput.Position = UDim2.new(0.02, 0, 0, 35)
    usernameInput.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    usernameInput.BorderSizePixel = 0
    usernameInput.PlaceholderText = "Username..."
    usernameInput.PlaceholderColor3 = Color3.fromRGB(120, 120, 120)
    usernameInput.Text = ""
    usernameInput.TextColor3 = Color3.fromRGB(255, 255, 255)
    usernameInput.Font = Enum.Font.Gotham
    usernameInput.TextSize = 12
    usernameInput.ClearTextOnFocus = false
    usernameInput.Parent = addSection
    Instance.new("UICorner", usernameInput).CornerRadius = UDim.new(0, 6)
    
    local daysInput = Instance.new("TextBox")
    daysInput.Size = UDim2.new(0.48, 0, 0, 32)
    daysInput.Position = UDim2.new(0.52, 0, 0, 35)
    daysInput.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    daysInput.BorderSizePixel = 0
    daysInput.PlaceholderText = "Days (e.g. 30)"
    daysInput.PlaceholderColor3 = Color3.fromRGB(120, 120, 120)
    daysInput.Text = ""
    daysInput.TextColor3 = Color3.fromRGB(255, 255, 255)
    daysInput.Font = Enum.Font.Gotham
    daysInput.TextSize = 12
    daysInput.ClearTextOnFocus = false
    daysInput.Parent = addSection
    Instance.new("UICorner", daysInput).CornerRadius = UDim.new(0, 6)
    
    local addBtn = Instance.new("TextButton")
    addBtn.Size = UDim2.new(0.98, 0, 0, 35)
    addBtn.Position = UDim2.new(0.01, 0, 0, 75)
    addBtn.BackgroundColor3 = Color3.fromRGB(50, 150, 50)
    addBtn.BorderSizePixel = 0
    addBtn.Text = "âž• ADD VIP"
    addBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    addBtn.Font = Enum.Font.GothamBold
    addBtn.TextSize = 14
    addBtn.Parent = addSection
    Instance.new("UICorner", addBtn).CornerRadius = UDim.new(0, 6)
    
    -- Status Label
    local statusLabel = Instance.new("TextLabel")
    statusLabel.Size = UDim2.new(0.94, 0, 0, 25)
    statusLabel.Position = UDim2.new(0.03, 0, 0, 175)
    statusLabel.BackgroundTransparency = 1
    statusLabel.Text = "Total VIPs: 0"
    statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    statusLabel.Font = Enum.Font.Gotham
    statusLabel.TextSize = 11
    statusLabel.TextXAlignment = Enum.TextXAlignment.Left
    statusLabel.Parent = main
    
    -- VIP List
    local listFrame = Instance.new("Frame")
    listFrame.Size = UDim2.new(0.94, 0, 0, 170)
    listFrame.Position = UDim2.new(0.03, 0, 0, 205)
    listFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    listFrame.BorderSizePixel = 0
    listFrame.Parent = main
    Instance.new("UICorner", listFrame).CornerRadius = UDim.new(0, 8)
    
    local listTitle = Instance.new("TextLabel")
    listTitle.Size = UDim2.new(1, -10, 0, 25)
    listTitle.Position = UDim2.new(0, 5, 0, 5)
    listTitle.BackgroundTransparency = 1
    listTitle.Text = "VIP USERS LIST"
    listTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    listTitle.Font = Enum.Font.GothamBold
    listTitle.TextSize = 12
    listTitle.TextXAlignment = Enum.TextXAlignment.Left
    listTitle.Parent = listFrame
    
    local scrollFrame = Instance.new("ScrollingFrame")
    scrollFrame.Size = UDim2.new(1, -10, 1, -35)
    scrollFrame.Position = UDim2.new(0, 5, 0, 30)
    scrollFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    scrollFrame.BorderSizePixel = 0
    scrollFrame.ScrollBarThickness = 6
    scrollFrame.Parent = listFrame
    Instance.new("UICorner", scrollFrame).CornerRadius = UDim.new(0, 6)
    
    local listLayout = Instance.new("UIListLayout")
    listLayout.Padding = UDim.new(0, 5)
    listLayout.Parent = scrollFrame
    
    -- Functions
    local function refreshList()
        for _, child in pairs(scrollFrame:GetChildren()) do
            if child:IsA("Frame") then
                child:Destroy()
            end
        end
        
        local count = 0
        local currentTime = os.time()
        
        for username, data in pairs(vipList) do
            count = count + 1
            
            local entry = Instance.new("Frame")
            entry.Size = UDim2.new(1, -5, 0, 40)
            entry.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
            entry.BorderSizePixel = 0
            entry.Parent = scrollFrame
            Instance.new("UICorner", entry).CornerRadius = UDim.new(0, 6)
            
            local nameLabel = Instance.new("TextLabel")
            nameLabel.Size = UDim2.new(0.4, 0, 1, 0)
            nameLabel.Position = UDim2.new(0, 10, 0, 0)
            nameLabel.BackgroundTransparency = 1
            nameLabel.Text = username
            nameLabel.TextColor3 = Color3.fromRGB(255, 215, 0)
            nameLabel.Font = Enum.Font.GothamBold
            nameLabel.TextSize = 11
            nameLabel.TextXAlignment = Enum.TextXAlignment.Left
            nameLabel.TextTruncate = Enum.TextTruncate.AtEnd
            nameLabel.Parent = entry
            
            local daysLeft = math.floor((data.expiry - currentTime) / 86400)
            local isExpired = daysLeft < 0
            
            local expiryLabel = Instance.new("TextLabel")
            expiryLabel.Size = UDim2.new(0.35, 0, 1, 0)
            expiryLabel.Position = UDim2.new(0.4, 0, 0, 0)
            expiryLabel.BackgroundTransparency = 1
            expiryLabel.Text = isExpired and "EXPIRED" or (daysLeft .. " days left")
            expiryLabel.TextColor3 = isExpired and Color3.fromRGB(255, 80, 80) or Color3.fromRGB(150, 255, 150)
            expiryLabel.Font = Enum.Font.Gotham
            expiryLabel.TextSize = 10
            expiryLabel.TextXAlignment = Enum.TextXAlignment.Left
            expiryLabel.Parent = entry
            
            local delBtn = Instance.new("TextButton")
            delBtn.Size = UDim2.new(0, 60, 0, 28)
            delBtn.Position = UDim2.new(1, -65, 0.5, -14)
            delBtn.BackgroundColor3 = Color3.fromRGB(150, 50, 50)
            delBtn.BorderSizePixel = 0
            delBtn.Text = "DELETE"
            delBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
            delBtn.Font = Enum.Font.GothamBold
            delBtn.TextSize = 9
            delBtn.Parent = entry
            Instance.new("UICorner", delBtn).CornerRadius = UDim.new(0, 5)
            
            delBtn.MouseButton1Click:Connect(function()
                vipList[username] = nil
                saveVIPList()
                refreshList()
            end)
        end
        
        statusLabel.Text = "Total VIPs: " .. count
        scrollFrame.CanvasSize = UDim2.new(0, 0, 0, listLayout.AbsoluteContentSize.Y)
    end
    
    addBtn.MouseButton1Click:Connect(function()
        local username = usernameInput.Text:gsub("^%s*(.-)%s*$", "%1")
        local days = tonumber(daysInput.Text)
        
        if username == "" then
            statusLabel.Text = "Error: Enter username!"
            statusLabel.TextColor3 = Color3.fromRGB(255, 80, 80)
            task.wait(2)
            statusLabel.Text = "Total VIPs: " .. #vipList
            statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
            return
        end
        
        if not days or days <= 0 then
            statusLabel.Text = "Error: Invalid days!"
            statusLabel.TextColor3 = Color3.fromRGB(255, 80, 80)
            task.wait(2)
            statusLabel.Text = "Total VIPs: " .. #vipList
            statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
            return
        end
        
        local expiry = os.time() + (days * 86400)
        
        vipList[username] = {
            expiry = expiry,
            added = os.time(),
            days = days
        }
        
        saveVIPList()
        usernameInput.Text = ""
        daysInput.Text = ""
        refreshList()
        
        statusLabel.Text = "âœ“ Added: " .. username .. " (" .. days .. " days)"
        statusLabel.TextColor3 = Color3.fromRGB(150, 255, 150)
        task.wait(2)
        statusLabel.Text = "Total VIPs: " .. #vipList
        statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    end)
    
    -- Dragging
    local dragging = false
    local dragStart, startPos
    
    header.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = main.Position
        end
    end)
    
    game:GetService("UserInputService").InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - dragStart
            main.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
    
    game:GetService("UserInputService").InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
    
    -- Load and refresh
    loadVIPList()
    refreshList()
end

createGUI()

print("============================")
print("VIP MANAGER LOADED!")
print("============================")
print("Admin: " .. player.Name)
print("============================")

